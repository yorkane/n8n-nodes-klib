# 该文件是对operations 的需求描述
新增 读取文件的操作
读取内容时，可以根据文件路径读取， 如果是二进制文件，根据后缀名或者 二进制头部信息判断 文件的mine-type. 输出
## 读取文件 (Read File) 操作需求

**目标:** 创建一个 n8n 节点操作，用于读取指定路径的文件内容，并能智能判断是文本文件还是二进制文件，同时提取文件的基本元数据。

**输入参数:**

*   `filePath` (字符串, 必需): 需要读取的文件的完整路径。

**处理逻辑:**

1.  接收 `filePath` 参数。
2.  检查文件是否存在以及是否具有读取权限。如果不存在或无权限，应抛出错误。
3.  尝试读取文件内容。
4.  **内容判断与处理:**
    *   尝试将文件内容解码为 UTF-8 字符串。如果成功且不包含过多无效字符（可以基于启发式规则，例如检查 NULL 字节比例），则视为文本文件。
    *   如果解码失败或判断为二进制文件，则将文件内容读取为 Buffer，并将其编码为 Base64 字符串。
5.  **MIME 类型判断:**
    *   优先根据文件的扩展名（例如 `.txt`, `.jpg`, `.pdf`）推断 MIME 类型。
    *   （可选增强）如果扩展名无法确定或不可靠，可以尝试读取文件头部的“魔术数字”（Magic Numbers）来识别常见的二进制文件类型（如 JPEG, PNG, PDF 等）。
    *   如果都无法确定，可以返回一个通用的 MIME 类型，如 `application/octet-stream` 或 `text/plain`（取决于步骤 4 的判断）。
6.  获取文件的其他元数据：文件名 (`path.basename(filePath)`), 文件大小 (`fs.statSync(filePath).size`)。

**输出数据 (JSON 格式):**

返回一个包含以下字段的 JSON 对象：
{
    name: "xxx",
    mine_type: "xxx",
    content:"text content",
    base64: "base64 encoded binary data"
}

